name: default

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v1
    - name: Verify git version
      run:  git --version | grep "^git version $(cat git-version.txt)$"
    - name: Show git commands
      run:  git help -a
    - name: Show list of git commands
      run:  curl --silent https://raw.githubusercontent.com/git/git/master/command-list.txt | grep "^git-" |  sed 's/^git-/git /g' | awk '{print $2}'
    - name: Compare git commands with git-commands.txt
      run:  diff <(curl --silent https://raw.githubusercontent.com/git/git/master/command-list.txt | grep "^git-" |  sed 's/^git-/git /g' | awk '{print $2}') git-commands.txt
